(this["webpackJsonptest-project-react"]=this["webpackJsonptest-project-react"]||[]).push([[0],{35:function(e,t,n){e.exports=n(67)},40:function(e,t,n){},41:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(31),o=n.n(c),l=n(4),u=n(5),i=n(7),s=n(6),m=n(8),h=(n(40),n(15)),d=n(13),p=n(12),v=(n(41),n(10)),E=n.n(v);function y(e,t){var n=C(e,t);return E.a.get("/basicauth",{headers:{authorization:n}})}function f(e,t){var n=C(e,t);sessionStorage.setItem("authenticatedUser",n),function(e){E.a.interceptors.request.use((function(t){return b()&&(t.headers.authorization=e),t}))}(n)}function C(e,t){return"Basic "+window.btoa(e+":"+t)}function b(){return null!==sessionStorage.getItem("authenticatedUser")}var g=n(17),j=n.n(g),O=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={login:"",password:"",error:!1},n.onChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.onSubmit=function(e){e.preventDefault();var t=n.state,a=t.login,r=t.password;a&&r?y(a,r).then((function(){f(a,r),window.location.href="/converter"})).catch((function(){n.setState({error:!0})})):n.setState({error:!0})},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){sessionStorage.getItem("authenticatedUser")&&this.props.history.push("/converter")}},{key:"render",value:function(){var e=this.state,t=e.login,n=e.password,a=e.error;return r.a.createElement("div",{className:"wrapper-login"},r.a.createElement("form",{onSubmit:this.onSubmit,className:"login-page"},r.a.createElement("h1",null,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"),r.a.createElement("div",{className:j()("error-message",{show:a})},r.a.createElement("p",null,"\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u044b\u0439 \u043b\u043e\u0433\u0438\u043d \u0438\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c")),r.a.createElement("input",{type:"text",placeholder:"\u041b\u043e\u0433\u0438\u043d",name:"login",onChange:this.onChange,value:t}),r.a.createElement("input",{type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",onChange:this.onChange,value:n}),r.a.createElement("button",{type:"submit"},"\u0412\u043e\u0439\u0442\u0438")))}}]),t}(a.Component),w=n(32),k=(n(59),n(60),function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"logoutUser",value:function(){sessionStorage.removeItem("authenticatedUser"),window.location.href="/login"}},{key:"render",value:function(){var e=this;return r.a.createElement("header",null,r.a.createElement(h.b,{to:"/converter",activeClassName:"active-link"},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440"),r.a.createElement(h.b,{to:"/history",activeClassName:"active-link"},"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"),r.a.createElement("button",{type:"button",onClick:function(){return e.logoutUser()}},"\u0412\u044b\u0445\u043e\u0434"))}}]),t}(a.Component));function S(){return E.a.get("/converter/currency")}function A(e){return E.a.post("/converter/convert",e)}var N=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={allCurrency:[],converter:{startCurrencyId:"",endCurrencyId:"",startAmount:"",endAmount:0},error:!1},n.onChange=function(e){n.setState({converter:Object(w.a)({},n.state.converter,Object(p.a)({},e.target.name,e.target.value))})},n.onClick=function(){var e=n.state.converter,t=e.startAmount.replace(",",".");e.startAmount=t,A(e).then((function(e){n.setState({endAmount:e.data,error:!1})})).catch((function(){n.setState({error:!0})}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this;S().then((function(t){e.setState({allCurrency:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.startCurrency,n=e.endCurrency,a=e.startAmount,c=e.endAmount,o=e.allCurrency,l=e.error;return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("div",{className:"wrapper-converter"},r.a.createElement("div",{className:"converter"},r.a.createElement("h1",null,"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0435\u0440 \u0432\u0430\u043b\u044e\u0442"),r.a.createElement("div",{className:j()("error-message",{show:l})},r.a.createElement("p",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u044b\u0445 \u0434\u0430\u043d\u043d\u044b\u0445")),r.a.createElement("div",{className:"currency"},r.a.createElement("label",null,r.a.createElement("span",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("select",{name:"startCurrencyId",onChange:this.onChange,value:t},r.a.createElement("option",null,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."),o.map((function(e){var t=e.id,n=e.name,a=e.charCode;return r.a.createElement("option",{value:t,key:t},"".concat(a," (").concat(n,")"))})))),r.a.createElement("label",null,r.a.createElement("span",null,"\u0426\u0435\u043b\u0435\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("select",{name:"endCurrencyId",onChange:this.onChange,value:n},r.a.createElement("option",null,"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."),o.map((function(e){var t=e.id,n=e.name,a=e.charCode;return r.a.createElement("option",{value:t,key:t},"".concat(a," (").concat(n,")"))}))))),r.a.createElement("div",{className:"amount"},r.a.createElement("label",null,r.a.createElement("span",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430"),r.a.createElement("input",{type:"text",placeholder:"\u0421\u0443\u043c\u043c\u0430",name:"startAmount",onChange:this.onChange,value:a})),r.a.createElement("label",null,r.a.createElement("span",null,"\u0418\u0442\u043e\u0433 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430"),r.a.createElement("span",{id:"endAmount"},0!==c?c:"-"))),r.a.createElement("div",{className:"convert-button"},r.a.createElement("button",{onClick:this.onClick},"\u041a\u043e\u043d\u0432\u0435\u0440\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c")))))}}]),t}(a.Component);n(66);function I(e,t,n){return E.a.get("/history?date=".concat(e,"&startCurrency=").concat(t,"&endCurrency=").concat(n))}var x=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(n=Object(i.a)(this,(e=Object(s.a)(t)).call.apply(e,[this].concat(r)))).state={allCurrency:[],historyRows:[],date:"",startCurrency:"",endCurrency:""},n.onChange=function(e){n.setState(Object(p.a)({},e.target.name,e.target.value))},n.onClick=function(){var e=n.state,t=e.startCurrency,a=e.endCurrency;I(e.date,t,a).then((function(e){n.setState({historyRows:e.data})}))},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.state,n=t.startCurrency,a=t.endCurrency;I(t.date,n,a).then((function(t){e.setState({historyRows:t.data})})),S().then((function(t){e.setState({allCurrency:t.data})}))}},{key:"render",value:function(){var e=this.state,t=e.date,n=e.startCurrency,a=e.endCurrency,c=e.historyRows,o=e.allCurrency;return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("div",{className:"wrapper-history"},r.a.createElement("div",{className:"history"},r.a.createElement("h1",null,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f"),r.a.createElement("div",{className:"filters"},r.a.createElement("input",{type:"date",name:"date",onChange:this.onChange,value:t}),r.a.createElement("label",null,r.a.createElement("span",null,"\u0418\u0437"),r.a.createElement("select",{name:"startCurrency",onChange:this.onChange,value:n},r.a.createElement("option",{value:""},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."),o.map((function(e){var t=e.id,n=e.name,a=e.charCode;return r.a.createElement("option",{value:a,key:t},"".concat(a," (").concat(n,")"))})))),r.a.createElement("label",null,r.a.createElement("span",null,"\u0412"),r.a.createElement("select",{name:"endCurrency",onChange:this.onChange,value:a},r.a.createElement("option",{value:""},"\u0412\u044b\u0431\u0440\u0430\u0442\u044c..."),o.map((function(e){var t=e.id,n=e.name,a=e.charCode;return r.a.createElement("option",{value:a,key:t},"".concat(a," (").concat(n,")"))})))),r.a.createElement("button",{onClick:this.onClick},"\u041f\u043e\u0438\u0441\u043a")),r.a.createElement("div",null,r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("th",null,"\u0426\u0435\u043e\u0435\u0432\u0430\u044f \u0432\u0430\u043b\u044e\u0442\u0430"),r.a.createElement("th",null,"\u0418\u0441\u0445\u043e\u0434\u043d\u0430\u044f \u0441\u0443\u043c\u043c\u0430"),r.a.createElement("th",null,"\u041f\u043e\u043b\u0443\u0447\u0430\u0435\u043c\u0430\u044f \u0441\u0443\u043c\u043c\u0430"),r.a.createElement("th",null,"\u0414\u0430\u0442\u0430"))),r.a.createElement("tbody",null,c.map((function(e,t){var n=e.startCurrency,a=e.endCurrency,c=e.startAmount,o=e.endAmount,l=e.date;return r.a.createElement("tr",{key:t},r.a.createElement("td",null,n),r.a.createElement("td",null,a),r.a.createElement("td",null,c),r.a.createElement("td",null,o),r.a.createElement("td",null,l))}))))))))}}]),t}(a.Component),U=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return b()?r.a.createElement(d.b,this.props):r.a.createElement(d.a,{to:"/login"})}}]),t}(a.Component),z=function(e){e?E.a.defaults.headers.common.Authorization=e:delete E.a.defaults.headers.common.Authorization},D=sessionStorage.getItem("authenticatedUser");D&&z(D);var R=function(e){function t(){return Object(l.a)(this,t),Object(i.a)(this,Object(s.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement(h.a,null,r.a.createElement(d.b,{exact:!0,path:"/",component:O}),r.a.createElement(d.b,{exact:!0,path:"/login",component:O}),r.a.createElement(U,{exact:!0,path:"/converter",component:N}),r.a.createElement(U,{exact:!0,path:"/history",component:x}))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[35,1,2]]]);
//# sourceMappingURL=main.12312476.chunk.js.map